<div class="container">
  <h4 class="text-center">{{ isEditMode ? 'Modifier' : 'Ajouter' }} un utilisateur</h4>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" (ngOnChanges)="ngOnChanges()" class="needs-validation">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="name">Nom</label>
          <input type="text" class="form-control" formControlName="name" required placeholder="Entrez le nom">
          <div class="invalid-feedback">{{ getFormControlErrorMessage('name') }}</div>
        </div>
        
        <div class="form-group">
          <label for="prenom">Prénom</label>
          <input type="text" class="form-control" formControlName="prenom" required placeholder="Entrez le prénom">
          <div class="invalid-feedback">{{ getFormControlErrorMessage('prenom') }}</div>
        </div>

        <div class="form-group">
          <label for="adresse">Adresse</label>
          <input type="text" class="form-control" formControlName="adresse" required placeholder="Entrez l'adresse">
        </div>

      </div>

      <div class="col-md-6">
        
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" formControlName="email" required placeholder="Entrez l'email">
          <div class="invalid-feedback">{{ getFormControlErrorMessage('email') }}</div>
        </div>

        <div class="form-group">
          <label for="password">Mot de passe</label>
          <input type="password" class="form-control" formControlName="password" placeholder="Entrez le mot de passe">
          <div class="invalid-feedback">{{ getFormControlErrorMessage('password') }}</div>
        </div>

        <div class="form-group">
          <label for="role_id">Rôle</label>
          <select class="form-control" name="role_id" formControlName="role_id">
            <option value="2">SUPER_ADMIN</option>
            <option value="1">ADMINISTRATEUR</option>
            <option value="3">VIGILE</option>
            <option value="6">MEDIATEUR_EMPLOI</option>
          </select>
          <div class="invalid-feedback">{{ getFormControlErrorMessage('role_id') }}</div>
        </div>
      </div>

      <div class="text-center">
        <div class="form-group">
          <label for="telephone">Téléphone</label>
          <input type="text" class="form-control" formControlName="telephone" required placeholder="Entrez le téléphone">
          <div class="invalid-feedback">{{ getFormControlErrorMessage('telephone') }}</div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">{{ isEditMode ? 'Modifier' : 'Ajouter' }}</button>
      </div>
    </div>
  </form>
</div>
